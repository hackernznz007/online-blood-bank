{% extends 'base.html' %}
{% load static %}

{% block main %}

<div class="body-form vh-100">
  <main class="form-signin">
    <form novalidate action="{% url 'changePassword_page' %}" method="POST">
      {% csrf_token %}

      {% if form.non_field_errors %}
        {% for n_error in form.non_field_errors %}
          <div class="alert alert-danger">{{ n_error|escape }}</div>
        {% endfor %}
      {% endif %}

      {% for form_field in form %}

        {% if form_field.errors %}
          {% for error in form_field.errors %}
            <div style="text-align: left  !important;" class="text-danger">{{ error|escape }}</div>
          {% endfor %}
        {% endif %}

        <div class="mb-2 form-floating">
          {{ form_field }}
          {{ form_field.label_tag }}
        </div>

        {% if form_field.help_text %}
          <div class="text-secondary">{{ form_field.help_text|safe }}</div>
        {% endif %}

      {% endfor %}

      {% if request.GET.next %}
        <input type="hidden" name="next" value="{{ request.GET.next }}">
      {% endif%}

      <button class="w-100 btn btn-lg btn-danger" type="submit">Change Password</button>

    </form>

  </main>
</div>

{% endblock %}