{% extends 'base.html' %}
{% block main %}

    <!-- Main Banner -->
    <div class="container my-5">
      {% if msg %}
        <div class="alert alert-danger">{{ msg }}</div>
      {% endif %}
        <div class="row my-2">
            <div class="col-lg-6">
                <img src="{{ user.display_photo.url }}" class="img-fluid">
            </div>
            <div class="col-lg-6">
                <h2 class="display-3 fw-bold">{{ user.first_name }} {{ user.last_name }}</h2>
                <p class="display-6">
                    Blood Group: <strong>{{ user.blood_group.group }}</strong> <br>
                    Address: <strong>{{ user.district }}, {{ user.local_level }}</strong> <br>
                    Gender: <strong>{{ user.get_gender_display }}</strong> <br>
                    Age: <strong>{{ user.age }}</strong>
                </p>
                
              
                <!-- Button trigger modal -->
                  <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#updateProfieModal">
                    Send Request
                  </button>

                  <!-- Modal -->
                  <div class="modal fade" id="updateProfieModal" tabindex="-1" aria-labelledby="updateProfieModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="updateProfieModalLabel">Update Profile</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          
                          <form novalidate action="{% url 'user_page' user.id %}" method="POST">
                          
                            {% include 'includes/general-form.html' %}

                            <button class="w-100 mt-3 btn btn-danger btn-lg" type="submit">Request Donor</button>
                
                        </form>
                        
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal End -->




            </div>
        </div>

        <hr class="my-5">

      </div>
      <!-- End Main Banner -->
  
  
      {% endblock %}

      {% block scripts %}

      {% if form.errors %}
      <script>
        var myModal = new bootstrap.Modal(document.getElementById('updateProfieModal'), { keyboard: false });
        myModal.show();
      </script>
      {% endif %}
      
      {% endblock %}
